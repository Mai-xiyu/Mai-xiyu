name: Metrics
on:
  # æ¯å¤©è¿è¡Œä¸€æ¬¡
  schedule: [{cron: "0 0 * * *"}]
  # å…è®¸æ‰‹åŠ¨è¿è¡Œ
  workflow_dispatch:
  # push åˆ° main åˆ†æ”¯æ—¶è§¦å‘ (æµ‹è¯•ç”¨)
  push: {branches: ["master", "main"]}
jobs:
  github-metrics:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: lowlighter/metrics@latest
        with:
          # å¿…é¡»é…ç½®ï¼šå°†ç”Ÿæˆçš„å›¾ç‰‡æ¨é€åˆ°ç‹¬ç«‹åˆ†æ”¯ 'metrics'ï¼Œä¿æŒä¸»åˆ†æ”¯å¹²å‡€
          filename: github-metrics.svg
          token: ${{ secrets.GITHUB_TOKEN }}
          committer_branch: metrics
          committer_message: "Update metrics dashboard"

          # åŸºç¡€é…ç½®
          user: Mai-xiyu
          template: classic
          base: header, activity, community, repositories, metadata
          config_timezone: Asia/Shanghai
          
          # ğŸ§© æ’ä»¶ï¼šè¯­è¨€åˆ†æ (æ˜¾ç¤ºä½ æ˜¯ä¸ªç¡¬æ ¸ Java/C++ ç©å®¶)
          plugin_languages: yes
          plugin_languages_ignored: >-
            html, css, tex, less, dockerfile, makefile, qmake, lex, cmake, shell,
            gnuplot
          plugin_languages_limit: 8
          plugin_languages_sections: most-used
          plugin_languages_colors: "github"
          plugin_languages_details: lines, percentage
          
          # ğŸ—ï¸ æ’ä»¶ï¼šIsometric 3D æ—¥å† (ä½ çš„æœ€çˆ±ï¼Œåƒ Minecraft æ–¹å—)
          plugin_isocalendar: yes
          plugin_isocalendar_duration: half-year
          
          # ğŸ† æ’ä»¶ï¼šæˆå°±ç³»ç»Ÿ
          plugin_achievements: yes
          plugin_achievements_display: compact
          plugin_achievements_threshold: B
